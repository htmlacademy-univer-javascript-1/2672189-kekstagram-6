<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kekstagram - Загрузка фото</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.css">
<style>
.hidden { display: none !important; }
.visually-hidden { position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0; overflow: hidden; border: 0; clip: rect(0 0 0 0); }
body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
.header { text-align: center; margin-bottom: 30px; }
.header__title { color: #333; font-size: 32px; }
.img-upload__label { display: inline-block; padding: 12px 24px; background: #4CAF50; color: white; border-radius: 4px; cursor: pointer; margin-bottom: 20px; font-size: 16px; }
.img-upload__label:hover { background: #45a049; }
.img-upload__overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); display: flex; justify-content: center; align-items: center; z-index: 1000; }
.img-upload__wrapper { background: white; padding: 30px; border-radius: 10px; width: 90%; max-width: 500px; position: relative; }
.img-upload__cancel { position: absolute; top: 10px; right: 10px; background: #ff4444; color: white; border: none; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; font-size: 18px; }
.img-upload__preview { width: 100%; height: 200px; border: 2px dashed #ccc; margin: 20px 0; display: flex; justify-content: center; align-items: center; overflow: hidden; background: #fafafa; }
.img-upload__preview img { max-width: 100%; max-height: 100%; transition: transform 0.3s, filter 0.3s; }
.img-upload__scale { display: flex; align-items: center; margin: 15px 0; }
.img-upload__scale-controls { display: flex; align-items: center; gap: 10px; margin-left: auto; }
.scale__control { background: none; border: none; font-size: 20px; cursor: pointer; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; }
.scale__control:hover { background: #f0f0f0; border-radius: 4px; }
.scale__control--smaller { font-size: 18px; }
.scale__value { width: 50px; text-align: center; border: 1px solid #ccc; padding: 5px; background: #f5f5f5; border-radius: 4px; }
.img-upload__effects { margin: 20px 0; }
.effects__list { display: flex; gap: 10px; flex-wrap: wrap; list-style: none; padding: 0; }
.effects__item { flex: 1; min-width: 100px; }
.effects__radio { display: none; }
.effects__label { display: block; padding: 10px; text-align: center; border: 1px solid #ccc; border-radius: 4px; cursor: pointer; background: #f9f9f9; }
.effects__radio:checked + .effects__label { background: #4CAF50; color: white; border-color: #4CAF50; }
.effect-level { margin: 15px 0; }
.effect-level__value { display: none; }
.slider { margin: 15px 0; height: 20px; }
.text__hashtags, .text__description { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 14px; }
.text__hashtags:focus, .text__description:focus { outline: none; border-color: #4CAF50; box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2); }
.text__description { min-height: 100px; resize: vertical; }
.img-upload__submit { width: 100%; padding: 12px; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; margin-top: 10px; font-size: 16px; }
.img-upload__submit:hover { background: #45a049; }
.pristine-error { color: #ff4444; font-size: 12px; margin-top: 5px; display: block; }
.modal-open { overflow: hidden; }
</style>
</head>
<body>

<div class="header">
  <h1 class="header__title">Кекстаграм</h1>
</div>

<form class="img-upload__form" method="POST" action="https://30.javascript.pages.academy/kekstagram" enctype="multipart/form-data" id="upload-select-image">

  <input class="img-upload__input visually-hidden" type="file" id="upload-file" name="filename" accept="image/*" required>
  <label class="img-upload__label" for="upload-file">Выбрать фото</label>

  <div class="img-upload__overlay hidden">
    <div class="img-upload__wrapper">
      <button class="img-upload__cancel" type="button">✖</button>

      <div class="img-upload__preview">
        <img src="" alt="Предварительный просмотр фотографии">
      </div>

      <div class="img-upload__scale">
        <span>Масштаб:</span>
        <div class="img-upload__scale-controls">
          <button class="scale__control scale__control--smaller" type="button">-</button>
          <input class="scale__value" type="text" name="scale" value="100%" readonly>
          <button class="scale__control scale__control--bigger" type="button">+</button>
        </div>
      </div>

      <div class="img-upload__effects">
        <span>Эффект:</span>
        <ul class="effects__list">
          <li class="effects__item">
            <input class="effects__radio" type="radio" name="effect" id="effect-none" value="none" checked>
            <label class="effects__label" for="effect-none">Оригинал</label>
          </li>
          <li class="effects__item">
            <input class="effects__radio" type="radio" name="effect" id="effect-chrome" value="chrome">
            <label class="effects__label" for="effect-chrome">Хром</label>
          </li>
          <li class="effects__item">
            <input class="effects__radio" type="radio" name="effect" id="effect-sepia" value="sepia">
            <label class="effects__label" for="effect-sepia">Сепия</label>
          </li>
          <li class="effects__item">
            <input class="effects__radio" type="radio" name="effect" id="effect-marvin" value="marvin">
            <label class="effects__label" for="effect-marvin">Марвин</label>
          </li>
          <li class="effects__item">
            <input class="effects__radio" type="radio" name="effect" id="effect-phobos" value="phobos">
            <label class="effects__label" for="effect-phobos">Фобос</label>
          </li>
          <li class="effects__item">
            <input class="effects__radio" type="radio" name="effect" id="effect-heat" value="heat">
            <label class="effects__label" for="effect-heat">Зной</label>
          </li>
        </ul>
      </div>

      <div class="effect-level hidden">
        <div class="slider"></div>
        <input class="effect-level__value" type="hidden" name="effect-level" value="100">
      </div>

      <div>
        <input class="text__hashtags" type="text" name="hashtags" placeholder="#хэштег1 #хэштег2" maxlength="140">
      </div>

      <div>
        <textarea class="text__description" name="description" placeholder="Ваш комментарий..." maxlength="140"></textarea>
      </div>

      <button class="img-upload__submit" type="submit">Опубликовать</button>
    </div>
  </div>
</form>

<script src="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.js"></script>
<script type="module" src="js/main.js"></script>

  <script src="vendor/pristine/pristine.min.js"></script>
  <script src="vendor/nouislider/nouislider.min.js"></script>
  <script src="js/main.js" type="module"></script>
</body>
</html>
